{{ define "main" }}

<!--  {{ partial "page-title.html" . }}-->
<style>
  p {
    margin: 0
  }

  .people-wrap {
    display: inline-flex;
    margin-top: 10px;
  }

  .people-image {
    display: block;
    border-radius: 50%;
    /* remove gap*/
  }

  .people {
    margin-left: 20px;
    margin-right: 20px;
  }

  .name {
    margin: auto;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: #000;
    font-family: Roboto, sans-serif;
    line-height: 1.2;
    margin-top: 2rem;
  }

  .content img {
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
    display: block;
    margin-left: auto;
    margin-right: auto;
    margin-bottom:30px;
  }

  p { margin-bottom: 1em; }

  body p:last-child { margin-bottom: 0em; }

  img.skills{
    height: 80px;
  }

  @media only screen and (min-width: 960px) {
    .content img{max-width:60vw; max-height:60vh}

  .content img{
      max-width:60vw;
      max-height:60vh
  }
  }
  .content{
      width: 90vw;
      max-width: 1200px
  }

  table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
  }

  td, th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
  }











</style>

<section>
    {{if eq .Params.type "people"}}
    <div class="uk-container uk-margin-large-bottom uk-margin-medium-top">
        <!--        <h1 class="uk-text-center uk-heading-medium">{{.Params.name}}</h1>-->
        <!--        <p class="uk-text-center uk-text-lead">{{.Params.description}}</p>-->
        <!--        <p class="uk-text-center">Published on {{ .PublishDate.Format "Jan 02, 2006" }}</p>-->
        <!--        <p class="uk-text-center">Reading time: {{ math.Round (div (countwords .Content) 220.0) }} minutes.</p>-->
        <!--        {{if isset .Params "coders"}}-->

        <!--        <div class="uk-child-width-1-4@m uk-child-width-1-2@s uk-text-center uk-flex-center uk-grid-large uk-margin-small-top"-->
        <!--             uk-grid>-->
        <!--            {{if ( gt (len .Params.coders ) 0)}}-->
        <!--            <div>-->
        <!--                <button class="uk-button uk-button-default" type="button"><span uk-icon="icon: users"></span> Team-->
        <!--                    Project-->
        <!--                </button>-->
        <!--                <div class="uk-width-auto" uk-dropdown="pos: bottom-center; delay-hide:400">-->
        <!--                    <div class="uk-dropdown-grid uk-child-width-1-2" uk-grid>-->
        <!--                        <div>-->
        <!--                            <ul class="uk-nav uk-dropdown-nav">-->
        <!--                                {{ range .Params.coders }}-->
        <!--                                <li><a href="https://github.com/{{.}}"> <img src="https://github.com/{{.}}.png"-->
        <!--                                                                             alt="Smiley face"-->
        <!--                                                                             width="42" height="42"-->
        <!--                                                                             style="border-radius: 50%"> {{.}}</a></li>-->
        <!--                                {{end}}-->
        <!--                            </ul>-->
        <!--                        </div>-->

        <!--                    </div>-->
        <!--                </div>-->
        <!--            </div>-->
        <!--            {{end}}-->

        <!--            {{if isset .Params "site"}}-->
        <!--            {{if ne .Params.site ""}}-->
        <!--            <div>-->
        <!--                <a class="uk-button uk-button-default" href="{{.Params.site}}"> <span uk-icon="icon: world"></span>-->
        <!--                    Website</a>-->
        <!--            </div>-->
        <!--            {{end}}-->
        <!--            {{end}}-->


        <!--            <div>-->
        <!--                {{if ( gt (len .Params ) 1)}}-->
        <!--                <div>-->
        <!--                    <button class="uk-button uk-button-default" type="button"><span uk-icon="icon: github"></span>-->
        <!--                        GitHub-->
        <!--                    </button>-->
        <!--                    <div class="uk-width-auto" uk-dropdown="pos: bottom-center; delay-hide:400">-->
        <!--                        <div class="uk-dropdown-grid uk-child-width-1-2" uk-grid>-->
        <!--                            <div>-->
        <!--                                <ul class="uk-nav uk-dropdown-nav">-->
        <!--                                    {{ range .Params.github }}-->
        <!--                                    <li><a style="color: #0366d6; font-weight: 600" href="{{.}}"> <span><img-->
        <!--                                            loading="lazy"-->
        <!--                                            src="https://res.cloudinary.com/samrobbins/image/upload/v1593092912/repo_ec3slk.svg"></span>-->
        <!--                                        {{index (last 1 (split . "/")) 0}}</a></li>-->
        <!--                                    {{end}}-->
        <!--                                </ul>-->
        <!--                            </div>-->

        <!--                        </div>-->
        <!--                    </div>-->
        <!--                </div>-->
        <!--                {{else if ( gt (len .Params.github ) 0)}}-->
        <!--                <a class="uk-button uk-button-default" href="{{index (.Params.github) 0}}"> <span-->
        <!--                        uk-icon="icon: github"></span>-->
        <!--                    Github</a>-->
        <!--                {{end}}-->
        <!--            </div>-->
        <!--        </div>-->
        <!--        {{end}}-->

        <!--        <hr class="full-width">-->
        <!--        {{if isset .Params "tech"}}-->
        <!--        {{if (gt (len .Params.tech) 0)}}-->
        <!--        <h2 class="uk-text-center uk-heading-small">Built with</h2>-->

        <!--        <section>-->
        <!--            <div class="uk-container">-->

        <!--                <div class="uk-child-width-1-6@l uk-child-width-1-3@m uk-child-width-1-3@s uk-child-width-1-2 uk-text-center uk-flex-center"-->
        <!--                     uk-grid>-->
        <!--                    {{ range .Params.tech }}-->
        <!--                    <div class="imagemargin">-->
        <!--                        <a href="{{.url}}">-->
        <!--                            <img class="contain skills" src="{{.logo}}" alt="{{.name}}" loading="lazy"-->
        <!--                                 style="cursor: pointer">-->
        <!--                        </a>-->
        <!--                    </div>-->
        <!--                    {{ end }}-->
        <!--                </div>-->

        <!--            </div>-->

        <!--        </section>-->

        <!--        <hr class="full-width">-->
        <!--        {{end}}-->
        <!--        {{end}}-->

        <!--        <div class="content">-->
        <!--            {{.Content }}-->
        <!--        </div>-->
        <div class="up-div">
            <h1 class="big-caption">简介</h1>
            <div class="intro-div">
                <div class="left-div">
                    <img class="round-graph"
                         src="https://zjutvis-1253917436.cos-website.ap-shanghai.myqcloud.com/{{.Params.image}}">
                    <div class="small-pic-div">
                        {{range .Params.icon}}
                        <a href="{{.url}}" class="url-link">
                            <img class="small-pic"
                                 src="https://zjutvis-1253917436.cos-website.ap-shanghai.myqcloud.com/{{.logo}}">
                        </a>
                        {{end}}
                    </div>
                </div>
                <div class="right-div">
                    <div class="intro-content">{{.Params.content}}</div>
                    <div class="right-down-div">
                        <div class="interests">
                            <h2>研究兴趣</h2>
                            <div class="int-tag">
                                {{range .Params.interest}}
                                <span class="interest-content uk-badge">
                                {{.name}}
                                </span>
                                {{end}}
                            </div>
                        </div>
                        <div class="education">
                            <h2>教育经历</h2>
                            <div class="edu-div">
                                <div class="edu-item">
                                    <ul>
                                        {{range .Params.edu}}
                                        <li class="edu-content">{{.content}}</li>
                                        {{end}}
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="mid-div">
            {{$paper_list := slice }}
            {{$en_name := .Params.en_name}}
            {{$zh_name := .Params.name}}
            {{$name2url := dict}}
            {{range .Site.Pages}}
            {{if eq .Params.type "publication"}}
            {{$flag := 0}}
            {{range .Params.author}}
            {{if or (eq .name $en_name) (eq .name $zh_name)}}
            {{$flag = add $flag 1}}
            {{end}}
            {{end}}
            {{if eq $flag 1}}
            {{$paper_list = $paper_list | append .Params}}
            {{end}}
            {{end}}
            {{if eq .Params.type "people"}}
            {{$name2url = merge $name2url (dict .Params.en_name .Params.url)}}
            {{$name2url = merge $name2url (dict .Params.name .Params.url)}}
            {{end}}
            {{end}}
            {{if ( gt (len $paper_list ) 0)}}
            <h1 class="big-caption">成果</h1>
            <div class="paper-div">
                <ul>
                    {{range $paper_list}}
                    <li class="list-item">
                        <div class="paper-container">
                            <div class="paper-picture">
                                <a href="{{.url}}">
                                    <img src="https://zjutvis-1253917436.cos-website.ap-shanghai.myqcloud.com/{{.image}}">
                                </a>
                            </div>
                            <div class="paper-content">
                                <div class="paper-title">
                                    <a href="{{.url}}" style="color: rgb(83,83,83);">
                                        {{.title}}
                                    </a>
                                </div>
                                <div class="paper-authors">
                                    {{range .author}}
                                    <div class="paper-author">
                                        {{$url := index $name2url .name}}
                                        {{if $url}}
                                        <a style="color: #4b4f56;" href="{{$url}}">
                                            {{.name}}
                                        </a>
                                        {{else}}
                                        <a style="color: #4b4f56; text-decoration: none;pointer-events: none;">
                                            {{.name}}
                                        </a>
                                        {{end}}
                                    </div>
                                    {{end}}
                                </div>
                                <div class="paper-venue">
                                    {{.journal}}
                                </div>
                                <div class="paper-reference">
                                    <div class="refer-pic">
                                        <a href="https://zjutvis-1253917436.cos-website.ap-shanghai.myqcloud.com/{{.pdf_link}}">
                                            <img src="https://zjutvis-1253917436.cos-website.ap-shanghai.myqcloud.com/pdf.png"
                                                 alt="pdf下载">
                                        </a>
                                    </div>
                                    <div class="refer-pic">
                                        <a href="https://zjutvis-1253917436.cos-website.ap-shanghai.myqcloud.com/{{.bib_link}}">
                                            <img src="https://zjutvis-1253917436.cos-website.ap-shanghai.myqcloud.com/bibtex.jpg"
                                                 alt="bib下载">
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                    {{end}}
                </ul>
            </div>
            {{end}}
            {{if .Params.academic}}
            <h1 class="big-caption">学术任职</h1>
            <div class="academic-div">
                <ul>
                    {{range .Params.academic}}
                    <li class="academic-content">{{.content}}</li>
                    {{end}}
                </ul>
            </div>
            {{end}}
        </div>
        <div class="down-div">
            <h1 class="big-caption">联系方式</h1>
            <div class="contact-div">
                {{range .Params.contact}}
                <div class="contact-item">
                    <img class="contact-pic"
                         src="https://zjutvis-1253917436.cos-website.ap-shanghai.myqcloud.com/{{.pic}}" alt="联系方式图片">
                    <div class="contact-content">{{.content}}</div>
                </div>
                {{end}}
            </div>
        </div>
    </div>
    {{end}}

    {{if eq .Params.type "publication"}}
    <div class="uk-container uk-margin-large-bottom uk-margin-medium-top">
        <h1 class="uk-text-center uk-heading-medium">{{.Title}}</h1>
        <p class="uk-text-center uk-text-lead">{{.Params.description}}</p>
        <p class="uk-text-center">Published on {{ .PublishDate.Format "Jan 02, 2006" }}</p>
        <!--        <p class="uk-text-center">Reading time: {{ math.Round (div (countwords .Content) 220.0) }} minutes.</p>-->

        <div class="uk-child-width-1-4@m uk-child-width-1-2@s uk-text-center uk-flex-center uk-grid-large uk-margin-small-top"
             uk-grid>
            <div>
                <button class="uk-button uk-button-default" type="button"><span uk-icon="icon: users"></span> Authors
                </button>
                <div class="uk-width-auto" uk-dropdown="pos: bottom-center; delay-hide:400">
                    <div class="uk-dropdown-grid uk-child-width-1-2" uk-grid>
                        <div>
                            <ul class="uk-nav uk-dropdown-nav">
                                {{$name2image := dict}}
                                {{$name2url := dict}}
                                {{range .Site.Pages}}
                                {{if eq .Params.type "people"}}
                                {{$temp := dict .Params.en_name .Params.image}}
                                {{$temp_url := dict .Params.en_name .Params.url}}
                                {{$name2image = merge $name2image $temp}}
                                {{$name2image = merge $name2image (dict .Params.name .Params.image)}}
                                {{$name2url = merge $name2url $temp_url}}
                                {{$name2url = merge $name2url (dict .Params.name .Params.url)}}
                                {{end}}
                                {{end}}
                                {{ range .Params.author }}
                                {{$img := index $name2image .name}}
                                <li>
                                    {{if $img}}
                                    <a href="{{index $name2url .name | relURL}}">
                                        <img src="https://zjutvis-1253917436.cos-website.ap-shanghai.myqcloud.com/{{$img}}"
                                             alt="未显示"
                                             width="42" height="42"
                                             style="border-radius: 50%">{{.name}}
                                    </a>
                                    {{else}}
                                    <a href="{{$.Site.BaseURL}}">
                                        <img src="https://zjutvis-1253917436.cos-website.ap-shanghai.myqcloud.com/images/peopleimage/unknown_people_center.jpg"
                                             alt="未显示"
                                             width="42" height="42"
                                             style="border-radius: 50%">{{.name}}
                                    </a>
                                    {{end}}
                                </li>
                                {{end}}
                            </ul>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <hr class="full-width">

        <div class="content">
            {{if eq .Params.has_video "True"}}
            <video src="https://zjutvis-1253917436.cos-website.ap-shanghai.myqcloud.com/{{.Params.video}}" controls=""
                   playsinline="" uk-video="" style="width: inherit"></video>
            {{else}}
            <img src="https://zjutvis-1253917436.cos-website.ap-shanghai.myqcloud.com/{{.Params.image}}">
            {{end}}
            <h2>Abstract</h2>
            <p class="paper-abstract">
                {{.Params.abstract}}
            </p>
            <div style="display: flex;">
                {{if ne .Params.pdf_link ""}}
                <a href="https://zjutvis-1253917436.cos-website.ap-shanghai.myqcloud.com/{{.Params.pdf_link}}"
                   style="margin-left: 50px; margin-right:50px;">
                    <img src="https://zjutvis-1253917436.cos-website.ap-shanghai.myqcloud.com/images/pdf.png"
                         class="refer-pic" alt="pdf_image">
                </a>
                {{end}}
                {{if ne .Params.bib_link ""}}
                <a href="https://zjutvis-1253917436.cos-website.ap-shanghai.myqcloud.com/{{.Params.bib_link}}"
                   style="margin-left: 50px; margin-right:50px;">
                    <img src="https://zjutvis-1253917436.cos-website.ap-shanghai.myqcloud.com/images/bibtex.jpg"
                         class="refer-pic" alt="bib_image">
                </a>
                {{end}}
            </div>
        </div>
    </div>
    {{end}}

    {{if eq .Params.type "research"}}
    {{$research_type := index .Params.categories 0}}
    <div class="uk-container uk-margin-large-bottom uk-margin-medium-top">
        <h1 class="uk-text-center uk-heading-medium">{{.Title}}</h1>
        <p class="uk-text-center uk-text-lead paper-abstract" style="text-align-last: left;">{{.Params.abstract}}</p>
        <!--        {{range .Site.Pages}}-->
        <!--        {{if eq .Params.type "publication"}}-->
        <!--        {{if (and (eq (index .Params.categories 0) "spatio-temporal") (eq .Params.has_video "True"))}}-->
        <!--        <div class="uk-text-center">-->
        <!--            <h2 class="uk-text-center">{{.Params.title}}</h2>-->
        <!--            <video src="https://zjutvis-1253917436.cos-website.ap-shanghai.myqcloud.com/{{.Params.video}}" controls=""-->
        <!--                   playsinline="" autoplay="false" style="width: 50%"></video>-->
        <!--        </div>-->
        <!--        {{end}}-->
        <!--        {{end}}-->
        <!--        {{end}}-->
        <ul
                class="js-filter uk-child-width-1-1 uk-child-width-1-2@m uk-text-center"
                uk-grid
                uk-height-match="target: > li > div > .fixy"
        >
            {{ range sort .Site.Pages ".Params.level" "desc"}}
            {{if eq .Params.type "publication"}}
            {{if in .Params.categories $research_type}}
            <li data-tags="{{delimit .Params  ' '}}">
                <div class="uk-card uk-card-default" style="position: relative;">
                    <div class="fixy">
                        <div class="uk-card-media-top">
                            {{if eq .Params.has_video "True"}}
                            <video src="https://zjutvis-1253917436.cos-website.ap-shanghai.myqcloud.com/{{.Params.video}}"
                                   controls="" playsinline="" autoplay=false style="width: 100%"></video>
                            {{else}}
                            <img src="https://zjutvis-1253917436.cos-website.ap-shanghai.myqcloud.com/{{.Params.image}}">
                            {{end}}
                        </div>
                        <div class="uk-card-body">
                            <h3 class="uk-card-title">{{.Params.description_title}}</h3>
                        </div>
                    </div>

                    <div class="uk-card-footer">
                        <a href="{{.Permalink| relURL}}" class="uk-button uk-button-text"
                        >Read more</a
                        >
                    </div>
                </div>
            </li>
            {{end}}
            {{end}}
            {{end}}
        </ul>

        <h2>Reference</h2>
        <div class="uk-text-center">
            {{$ind := 1}}
            {{range sort .Site.Pages ".Params.level" "desc"}}
            {{if eq .Params.type "publication"}}
            {{if (eq (index .Params.categories 0) $research_type)}}
            <p style="text-align: -webkit-auto;">[{{$ind}}]{{.Params.reference}}</p>
            {{$ind = add $ind 1}}
            {{end}}
            {{end}}
            {{end}}
        </div>
    </div>
    {{end}}
</section>

<style>
    .paper-abstract{
        margin-left: 4%;
        margin-right: 4%;
        font-size: 20px;
        text-align: justify;
    }
    .refer-pic {
        position: relative;
        width: 50px;
        height: 50px;
    }
    .up-div {
        margin-bottom: 10%;
        width: 100%;
    }
    .big-caption {
        font-size: 32px;
        font-weight: 600;
    }
    @media screen and (max-width: 650px){
        .intro-div {
            display: flex;
            flex-direction: column;
            margin-top: 8%;
        }
        .left-div {
            width: 100%;
            margin-left: 5%;
            text-align: -webkit-center;
        }
        .right-div {
            width: 100%;
            display: flex;
            flex-direction: column;
        }
        .paper-container {
            display: flex;
            flex-direction: column;
            margin-bottom: 4%;
            box-shadow: 0 0 20px rgb(0 0 128 / 30%);
            padding-bottom: 1%;
            width: 100%;
        }
        .small-pic-div {
            display: flex;
            flex-direction: row;
            align-items: center;
            width: fit-content;
        }
    }
    @media screen and (min-width: 650px){
        .intro-div {
            display: flex;
            flex-direction: row;
            margin-top: 8%;
            width: 100%;
        }
        .left-div {
            width: 36%;
            margin-left: 2%;
            margin-right: 1%;
        }
        .right-div {
            width: 60%;
            margin-left: 1%;
            display: flex;
            flex-direction: column;
        }
        .paper-container {
            display: flex;
            flex-direction: row;
            margin-bottom: 4%;
            box-shadow: 0 0 20px rgb(0 0 128 / 30%);
            padding-bottom: 10px;
        }
        .small-pic-div {
            display: flex;
            flex-direction: row;
            align-items: center;
        }
    }
    .round-graph {
        width: 250px;
        height: 250px;
        border-radius: 50%;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        box-shadow: inset 0rem 0rem 1em rgb(0 0 0 / 90%);
    }
    .url-link {
        text-decoration: none;
        margin-right: 2px;
    }
    .small-pic {
        width: 48px;
        height: 48px;
        overflow: hidden;
        transform: scale(1);
        transition: transform 0.1s;
    }
    .intro-content {
        font-size: 24px;
        font-weight: 400;
    }
    .right-down-div {
        display: flex;
        flex-direction: row;
    }
    .interests {
        width: 35%;
    }
    .education {
        width: 65%;
        display: flex;
        flex-direction: column;
    }
    .int-tag {
        display: flex;
        flex-direction: column;
    }
    .interest-content {
        width: max-content;
        margin-bottom: 10px;
        font-weight: 400;
        font-size: 20px;
    }
    .edu-div {
        display: flex;
        flex-direction: column;
    }
    .edu-item {
        display: flex;
        flex-direction: column;
    }
    .edu-content {
        font-size: 20px;
        font-weight: 400;
    }
    .mid-div {
        margin-bottom: 10%;
    }
    .paper-div {
    }
    .list-item {
        list-style-type: none;
    }
    .paper-picture {
        width: 400px;
        margin-right: 15px;
    }
    .paper-content {
        display: flex;
        flex-direction: column;
        width: -webkit-fill-available;
    }
    .paper-title {
        text-align: left;
        font-size: 28px;
        font-weight: 500;
        color: rgb(83,83,83);
    }
    .paper-authors {
        display: flex;
        flex-direction: row;
    }
    .paper-venue{
    }
    .paper-reference {
        display: flex;
        flex-direction: row;
    }
    .paper-author {
        color: #4b4f56;
        font-size: 20px;
        font-weight: 400;
        margin-right: 10px;
    }
    .refer-pic {
        position: relative;
        width: 50px;
        height: 50px;
    }
    .down-div {
        margin-bottom: 10%;
    }
    .contact-div {
        display: flex;
        flex-direction: column;
    }
    .contact-item {
        display: flex;
        flex-direction: row;
        margin-bottom: 5%;
    }
    .contact-pic {
        width: 48px;
        height: 48px;
        margin-right: 10%;
    }
    .contact-content {
        font-size: 24px;
        font-weight: 400;
    }
    .academic-div{
        width: 100%;
        margin-left: 5%;
    }
    .academic-content{
        font-size: 1.5rem;
        font-weight: 400;
    }
</style>

{{end}}
